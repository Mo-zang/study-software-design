### 내결함성을 제공하기 위해 배송 의미론을 활용하기
* 결제 서비스와 청구 서비스의 예
  * 청구 서비스는 초당 100개의 요청 처리 가능
  * 결제 서비스는 초당 50개의 요청 처리가능
    * 두 서비스의 결합도를 떨어뜨릴수록 결제 서비스에서 내결함성을 제공함.

#### 11장 결론
* pub-sub 아키텍처는 느슨하게 결합되고, 비동기식 시스템을 생성하게 만들어주며 적절한 배송 보증으로 내결함성을 개선한다.
* 이벤트 큐는 이벤트 주도 아키텍처를 생성하기 위한 능력을 제공한다. 서로 통신하는 서비스가 많을수록 이런 아키텍처에서 얻는 이익도 더 많아진다.
* 생산자와 소비자 양쪽에서 배송 의미론에 대해 추론하고 제어할 수 있다.
* 카프카의 최소한 한번과 기껏해야 한번 배송 의미론으로 소비자 코드를 구현할 수 있다.
  * 세분화된 커밋은 소비자 쪽에서 최소한 한 번 배송 의미론을 사용할 때 중복되는 숫자를 줄일 수 있다.
  * 기껏해야 한번 배송 의미론은 장애가 생기는 경우에 모든 이벤트를 처리하지 않는 위험을 일으킨다.
* 큐 기능을 독립적인  N개 시스템으로 분할할 때 시스템은 느슨하게 결합되고 단일 장애 지점 없이 비동기식으로 내결함성을 확보할 수 있다.
* 유효한 정확히 한번 배송 의미론은 트랜잭션을 사용할 때 가능하다. 하지만 파이프라인에 더 많은 서비스가 존재하는 복잡한 아키텍처를 구성할 때 훨씬 더 복잡해지고 실현 가능성이 떨어지기 시작한다.