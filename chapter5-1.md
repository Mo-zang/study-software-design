## 섣부른 최적화 대 핫코드 경로의 최적화 : 코드 성능에 영향을 미치는 의사 결정

### 섣부른 최적화가 나쁠 때
* 몇 몇 코드 성능을 최적화 할때, 코드의 복잡성이 올라가는 경우가 있다.
* 정확한 분석이 뒷 받침되지 않은 잘못된 가정으로 인해 코드복잡도 가 상승하는 경우.

#### 작업 훔치기 (work-stealing)
* 코드를 멀티 스레드로 동작하도록 변경
  * 처리과정이 무상태성(stateless)이 되어야함.
  * 스레드 풀을 사용하므로 사용 및 활용 현황도 체크 필요함.
* 작업을 분할하는 단계에서 추가적인 시간이 들어가면서, 코드에 성능부하가 생길 수 있음.
* 잘못되거나 실제로 없을 수 있는 가정을 기반으로 한 최적화이기 때문에 실제 서비스 환경에서 잘 동작할지 추론이 불가함.
  * 성능 벤치마크 작성 필요.
#### 성능 최적화 벤치마크
* 최적화를 검증하기 위함.
* 직접 벤치마크도구를 만들기 보다는 이미 널리 사용중인 도구를 사용하는것이 바람직함.
* 병렬처리가 느린 이유
  * 실제 작업에 앞서 작업을 분할하는데 들어가는 시간.
  
##### 결론
* 실제 돌아가는 서비스에서 사용되는 방식에 대한 사전지식이 없는 상태에서 섣부르게 최적화를 진행하게 되면 개선을 위한 노력은 했지만 가치가 없는 일이 될 수 있음.